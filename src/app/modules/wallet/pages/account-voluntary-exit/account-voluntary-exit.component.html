<app-breadcrumb></app-breadcrumb>
<div class="md:w-2/3">
    <form [formGroup]="exitAccountFormGroup" (ngSubmit)="confirmation()">
        <mat-card class="bg-paper">
            <mat-card-content>
                <h3 class="text-accent">
                    Please make sure you understand the consequences of
                    performing a voluntary exit. Once an account is exited, the
                    action cannot be reverted
                </h3>
                <h3>
                    You will not be able to withdraw your ETH if exited until
                    ETH1 is merged with ETH2, which could happen in over a year
                </h3>

                <mat-selection-list (selectionChange)="selectionChange($event)"
                    #shoes>
                    <mat-list-option
                        [value]="item.validatingPublicKey|base64tohex"
                        *ngFor="let item of keys">
                        {{item.accountName}}
                    </mat-list-option>
                </mat-selection-list>
                <mat-form-field class="w-2/3">
                    <mat-label>Confirmation</mat-label>
                    <input matInput formControlName="confirmation" />
                    <mat-hint>
                        <h5>
                            Type <i>'agree'</i> if you want to exit the keys
                        </h5>
                    </mat-hint>
                    <mat-error>
                        <span
                            *ngIf="exitAccountFormGroup?.get('confirmation')?.hasError('required')">
                            Confirmation is required</span>

                        <span
                            *ngIf="exitAccountFormGroup?.get('confirmation')?.hasError('incorectValue')">
                            You must type agree
                        </span>
                    </mat-error>
                </mat-form-field>
            </mat-card-content>
            <mat-card-actions>
                <div class="btn-container">
                    <button mat-raised-button (click)="back()" color="accent">Back
                        to
                        Accounts</button>
                    <button mat-raised-button mat-raised-button
                        [disabled]="exitAccountFormGroup?.invalid"
                        color="primary">
                        Confirm
                    </button>
                </div>
            </mat-card-actions>
        </mat-card>
    </form>
</div>